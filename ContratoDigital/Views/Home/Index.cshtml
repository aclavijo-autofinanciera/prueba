@using Microsoft.AspNetCore.Identity
@using ContratoDigital.Areas.Identity.Data
@inject SignInManager<ContratoDigitalUser> SignInManager
@inject UserManager<ContratoDigitalUser> UserManager


@{
    ViewData["Title"] = "Inicio";
}

<div class="container">
    <div class="row">
        <div class="col-12">
            <div style="background: url('../../../../images/background/scooter.jpg') no-repeat center center fixed;-webkit-background-size: cover;-moz-background-size: cover;-o-background-size: cover;background-size: cover;min-height: 20rem;">
                <h1 class="text-white text-center text-shadow" data-aos="fade-in" data-aos-delay="500" style="max-width: 50%;position:absolute;left: 50%;top: 50%;transform: translate(-50%,-50%);">
                    @{ 
                        //var userID = UserManager.GetUserId(User);
                        var user = UserManager.Users.SingleOrDefault(x => x.Id == UserManager.GetUserId(User));
                        Write("Bienvenido " + user.Nombre + " " + user.Apellido);
                    }
                </h1>
            </div>
        </div>
    </div>    
    <div class="row">
        <div class="col-12 col-sm-12 col-md-6 mt-2">
            <div class="polymer-box text-center p-4">
                <a href="@Url.Action("Create", "Prospectos")">
                    <h4><i class="far fa-address-card"></i> Registrar un prospecto</h4>
                </a>
            </div>
        </div>
        <div class="col-12 col-sm-12 col-md-6 mt-2">
            <div class="polymer-box text-center p-4">
                <a href="@Url.Action("Find", "Prospectos")">
                    <h4><i class="fas fa-search"></i> Consultar prospectos</h4>
                </a>
            </div>
        </div>
        <div class="col-12 col-sm-12 col-md-6 mt-2">
            <div class="polymer-box text-center p-4">
                <a href="@Url.Action("Find", "ContratoDigital")">
                    <h4><i class="fas fa-search"></i> Buscar contrato</h4>
                </a>
            </div>
        </div>
        <div class="col-12 col-sm-12 col-md-6 mt-2">
            <div class="polymer-box text-center p-4">
                <a href="@Url.Action("CargaMasiva", "Prospectos")">
                    <h4><i class="far fa-file-alt"></i> Carga masiva</h4>
                </a>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <h3>Changelog - Registro de cambios en el aplicativo</h3>
                    <h4>2019-04-05 v-0.1.9.10</h4>
                    <ul>
                        <li>Limitación y comprobación de registro de pagos manuales a valores repetidos.</li>
                        <li>Limitación a tamaño de la cédula.</li>
                        <li>Conversión automática a 0 en los campos correspondientes al ingreso y egreso.</li>
                        <li>Limitación de creación y registro de contratos nuevos, mientras el último contrato no esté pagado y registrado en Siicon.</li>
                        <li>Limitación de generación o envío por correo dle contrato mientras el contrato no haya sido registrado en Siicon.</li>
                    </ul>
                    
                    <h4>2019-03-18 V-0.1.9.9</h4>
                    <ul>
                        <li>Corrección de PDF.</li>
                        <li>FREEZEE.</li>
                    </ul>
                    <h4>2019-03-11 V-0.1.9.7</h4>
                    <ul>
                        <li>Registro de pagos automatizados de tu compra.</li>
                        <li>Actualización dl modelo de datos</li>
                    </ul>
                    <h4>2019-03-08 V-0.1.8.81</h4>
                    <ul>
                        <li>Minor bug fixes.</li>
                        <li>Limpieza en cascada del formulario de la liquidación.</li>

                        <li>
                            Actualización de la vista de detalle y la vista de indexación del contrato, conteniendo
                            datos extra, la definición de las ciudades y departamentos, y el estado del contrato como tal.
                        </li>
                        <li>
                            Actualización de vista resumen con los pagos manuales, automáticos y bancarios, realizando la sumatoria
                            en cada caso individual.
                        </li>
                        <li>
                            Modificación de las reglas de validación: no se pueden tener dos contratos abiertos al mismo tiempo
                            hasta que el último de ellos no haya terminado la validación y se encuentre en estado cerrado.
                        </li>
                        <li>Un prospecto puede tener tantos contratos como sea posible.</li>
                        <li>Limitación de las reglas de validación y continuación del contrato.</li>
                        <li>Modificación de forma de los PDFs.</li>
                        <li>Inclusión de generación de pagos para promociones.</li>
                        <li>Registro ordenado de los pagos manuales directamente con el contrato completo.</li>
                    </ul>

                    <h4>2019-02-18 V-0.1.8.80</h4>
                    <ul>
                        <li>Minor bug fixes.</li>
                        <li>Actualización de scripts de Framework.</li>
                        <li>Actualización de modelos de datos.</li>
                    </ul>


                    <h4>2019-02-01 V-0.1.8.76</h4>
                    <ul>
                        <li>Una vez aceptadas las condiciones del contrato, el contrato se registra en cierre comercial automáticamente.</li>
                        <li>Registro de pagos manuales no convencionales.</li>
                        <li>Cambio de las reglas de validación.</li>
                        <li>Inclusión de la validación de asesor en el momento del registro.</li>
                        <li>Inclusión de bloqueo de edición basado en el estado del contrato.</li>
                        <li>El documento de identidad solo puede ser una imagen, se refuerza el tipo de archivo y el tipo del MIME/TYPE</li>
                        <li>Se remueve temporalmente el código de barras mientras se hacen las pruebas.</li>
                        <li>Se agregan propiedades diferentes en el detalle y la búsqueda.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
