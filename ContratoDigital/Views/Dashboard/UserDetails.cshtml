@using Microsoft.AspNetCore.Identity
@using ContratoDigital.Areas.Identity.Data
@inject SignInManager<ContratoDigitalUser> SignInManager
@inject UserManager<ContratoDigitalUser> UserManager
@inject RoleManager<IdentityRole> RoleManager
@model ContratoDigitalUser



@{
    ViewData["Title"] = "Dashboard - Detalles de Usuarios";
}

<div class="container">
    <div class="row">
        <div class="col-12">
            <div style="background: url('../../../../images/background/prospect.jpg') no-repeat center center fixed;-webkit-background-size: cover;-moz-background-size: cover;-o-background-size: cover;background-size: cover;min-height: 20rem;">
                <h1 class="text-white text-center text-shadow" data-aos="fade-in" data-aos-delay="500" style="max-width: 50%;position:absolute;left: 50%;top: 50%;transform: translate(-50%,-50%);">
                    Detalles de Usuario
                </h1>
            </div>
        </div>
    </div>
</div>
@if (ViewData["error"] != null)
{
    <section>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <strong>@ViewData["Error"]</strong>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col text-center">
                    <a href="@Url.Action("Index", "Dashboard")" class="btn btn-azul btn-lg">Regresar</a>
                </div>
            </div>
        </div>
    </section>
}
else
{
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col-12 col-md-2">
                            <strong>UserName</strong>
                        </div>
                        <div class="col-12 col-md-10">
                            @Model.UserName
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col-12 col-md-2">
                            <strong>Nombre</strong>
                        </div>
                        <div class="col-12 col-md-10">
                            @Model.Nombre
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col-12 col-md-2">
                            <strong>Apellido</strong>
                        </div>
                        <div class="col-12 col-md-10">
                            @Model.Apellido
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col-12 col-md-2">
                            <strong>Cédula</strong>
                        </div>
                        <div class="col-12 col-md-10">
                            @Model.Cedula
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col-12 col-md-2">
                            <strong>Email</strong>
                        </div>
                        <div class="col-12 col-md-10">
                            @Model.Email
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col-12 col-md-2">
                            <strong>Agencia</strong>
                        </div>
                        <div class="col-12 col-md-10">
                            @Model.Agencia
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col-12 col-md-2">
                            <strong>Rol</strong>
                        </div>
                        <div class="col-12 col-md-10">
                            @foreach (var item in UserManager.GetRolesAsync(Model).Result)
                            {
                                @item
                            }
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-8">
                <div class="polymer-box">
                    <div class="row">
                        <div class="col text-center">
                            <a href="@Url.Action("Users","Dashboard")" class="btn btn-azul btn-lg"><i class="far fa-arrow-alt-circle-left"></i> Regresar</a>
                            <a href="@Url.Action("EditUser","Dashboard", new { id=Model.UserName })" class="btn btn-azul btn-lg">Editar</a>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

}

